<section class="content-main" *ngIf="!isLoading">
  <div
    class="modal"
    [ngStyle]="{ display: displayModal }"
    id="exampleModalCenter"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Are you sure?</h5>
        </div>
        <div class="modal-body">
          You are about to delete the following 1 review, this cannot be undone
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            (click)="changeDisplayModal('none')"
          >
            Close
          </button>
          <button
            type="button"
            class="btn btn-primary"
            (click)="deleteReview()"
          >
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <div class="content-header">
    <div>
      <h2 class="content-title card-title">Reviews List</h2>
    </div>
    <div>
      <a [routerLink]="'/review/create'" class="btn btn-primary btn-sm rounded"
        >Create new</a
      >
    </div>
  </div>
  <div class="card mb-4">
    <header class="card-header">
      <div class="row gx-3">
        <div class="col-lg-4 col-md-6 me-auto">
          <h5>{{ totalItems }} elements</h5>
        </div>
      </div>
    </header>
    <!-- card-header end// -->
    <div class="card-body">
      <article class="itemlist" *ngFor="let review of reviews; let i = index">
        <div class="row align-items-center">
          <div class="col-lg-5 col-sm-4 col-8 flex-grow-1 col-name">
            <a class="itemside" href="#">
              <div class="left">
                <img
                  [src]="'assets/imgs/people/' + review.userPhoto"
                  class="img-sm img-thumbnail"
                  alt="Item"
                />
              </div>
              <div class="info">
                <h6 class="mb-0">
                  {{ review.userName }} 's comment on

                  <span class="badge rounded-pill alert-primary">
                    {{ review.product.name }}</span
                  >
                  product
                </h6>
              </div>
            </a>
          </div>

          <div class="col-lg-2 col-sm-2 col-4 col-price">
            <span>{{ review.comment }}</span>
          </div>
          <div class="col-lg-2 col-sm-2 col-4 col-status">
            <span
              [class]="review.note >= 1 ? 'fa fa-star checked' : 'fa fa-star'"
            ></span>
            <span
              [class]="review.note >= 2 ? 'fa fa-star checked' : 'fa fa-star'"
            ></span>
            <span
              [class]="review.note >= 3 ? 'fa fa-star checked' : 'fa fa-star'"
            ></span>
            <span
              [class]="review.note >= 4 ? 'fa fa-star checked' : 'fa fa-star'"
            ></span>
            <span
              [class]="review.note >= 5 ? 'fa fa-star checked' : 'fa fa-star'"
            ></span>
          </div>
          <div class="col-lg-1 col-sm-2 col-4 col-date">
            <span *ngIf="review.active" class="badge rounded-pill alert-success"
              >Active</span
            >
            <span *ngIf="!review.active" class="badge rounded-pill alert-danger"
              >Disabled</span
            >
          </div>
          <div class="col-lg-2 col-sm-2 col-4 col-action text-end">
            <a
              [routerLink]="'/review/update/' + review.id"
              class="btn btn-sm font-sm rounded btn-brand"
            >
              <i class="material-icons md-edit"></i> Edit
            </a>
            <a
              (click)="changeDisplayModal('block'); setReviewToDelete(review)"
              class="btn btn-sm font-sm btn-light rounded"
            >
              <i class="material-icons md-delete_forever"></i> Delete
            </a>
          </div>
        </div>
        <!-- row .// -->
      </article>

      <!-- itemlist  .// -->
    </div>
    <!-- card-body end// -->
  </div>
  <!-- card end// -->
  <div class="pagination-area mt-30 mb-50">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-start">
        <li
          *ngFor="let num of [].constructor(totalPages); let j = index"
          [class]="pageNo === j ? 'page-item active' : 'page-item'"
        >
          <a class="page-link" (click)="changePageNo(j)">{{ j + 1 }}</a>
        </li>

        <li class="page-item">
          <a
            [hidden]="pageNo === totalPages - 1"
            class="page-link"
            (click)="changePageNo(pageNo + 1)"
            ><i class="material-icons md-chevron_right"></i
          ></a>
        </li>
      </ul>
    </nav>
  </div>
</section>
<section class="content-main" *ngIf="isLoading">
  <app-loading></app-loading>
</section>

<!-- content-main end// -->
